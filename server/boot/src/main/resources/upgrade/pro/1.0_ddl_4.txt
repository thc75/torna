CREATE TABLE `attachment`
(
    `id`           bigint(20) unsigned NOT NULL AUTO_INCREMENT,
    `source_type`  tinyint(4)          NOT NULL DEFAULT '0' COMMENT '来源，0：文档附件，1：评论附件',
    `ref_id`       bigint(20)          NOT NULL COMMENT '文档附件时存doc_id,评论附件存comment_id',
    `filename`     varchar(64)         NOT NULL COMMENT '文件名称',
    `suffix`       varchar(8)          NOT NULL DEFAULT '' COMMENT '文件后缀',
    `save_dir`     varchar(128)                 DEFAULT NULL COMMENT '本地保存路径',
    `file_id`      varchar(64)         NOT NULL COMMENT '文件唯一id',
    `user_id`      bigint(20)          NOT NULL COMMENT '上传人',
    `module_id`    bigint(20)          NOT NULL COMMENT 'module.id',
    `is_deleted`   tinyint(4)          NOT NULL DEFAULT '0',
    `gmt_create`   datetime                     DEFAULT CURRENT_TIMESTAMP,
    `gmt_modified` datetime                     DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_fileid` (`file_id`) USING BTREE,
    KEY `idx_sourcetype_refid` (`source_type`, `ref_id`) USING BTREE
) ENGINE = InnoDB
  DEFAULT CHARSET = utf8mb4 COMMENT ='附件表'